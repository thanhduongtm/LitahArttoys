"use strict";

// Bắt sự kiện cho các phần tử có class "dropdown"
Array.from(document.getElementsByClassName("dropdown")).forEach(function (element) {
    element.addEventListener("click", function (event) {
        var iconElement;
        // Nếu là navbar-item, thêm hoặc loại bỏ class "active"
        if (event.currentTarget.classList.contains("navbar-item")) {
            event.currentTarget.classList.toggle("active");
        } else {
            // Nếu không phải navbar-item, điều chỉnh class và icon cho dropdown
            iconElement = event.currentTarget.getElementsByClassName("mdi")[1];
            event.currentTarget.parentNode.classList.toggle("active");
            iconElement.classList.toggle("mdi-plus");
            iconElement.classList.toggle("mdi-minus");
        }
    });
});

// Bắt sự kiện cho các nút có class "mobile-aside-button"
Array.from(document.getElementsByClassName("mobile-aside-button")).forEach(function (element) {
    element.addEventListener("click", function (event) {
        // Điều chỉnh class và icon khi bấm nút mobile-aside-button
        var iconElement = event.currentTarget.getElementsByClassName("icon")[0].getElementsByClassName("mdi")[0];
        document.documentElement.classList.toggle("aside-mobile-expanded");
        iconElement.classList.toggle("mdi-forwardburger");
        iconElement.classList.toggle("mdi-backburger");
    });
});

// Bắt sự kiện cho các phần tử có class "--jb-navbar-menu-toggle"
Array.from(document.getElementsByClassName("--jb-navbar-menu-toggle")).forEach(function (element) {
    element.addEventListener("click", function (event) {
        // Điều chỉnh class và icon khi bấm nút --jb-navbar-menu-toggle
        var iconElement = event.currentTarget.getElementsByClassName("icon")[0].getElementsByClassName("mdi")[0];
        document.getElementById(event.currentTarget.getAttribute("data-target")).classList.toggle("active");
        iconElement.classList.toggle("mdi-dots-vertical");
        iconElement.classList.toggle("mdi-close");
    });
});

// Bắt sự kiện cho các phần tử có class "--jb-modal"
Array.from(document.getElementsByClassName("--jb-modal")).forEach(function (element) {
    element.addEventListener("click", function (event) {
        // Lấy target modal từ thuộc tính data-target và thêm class "active"
        var targetModal = event.currentTarget.getAttribute("data-target");
        document.getElementById(targetModal).classList.add("active");
        document.documentElement.classList.add("clipped");
    });
});

// Bắt sự kiện cho các phần tử có class "--jb-modal-close"
Array.from(document.getElementsByClassName("--jb-modal-close")).forEach(function (element) {
    element.addEventListener("click", function (event) {
        // Loại bỏ class "active" từ modal và "clipped" từ thẻ html
        event.currentTarget.closest(".modal").classList.remove("active");
        document.documentElement.classList.remove("clipped");
    });
});

// Bắt sự kiện cho các phần tử có class "--jb-notification-dismiss"
Array.from(document.getElementsByClassName("--jb-notification-dismiss")).forEach(function (element) {
    element.addEventListener("click", function (event) {
        // Thêm class "hidden" để ẩn notification khi bấm nút dismiss
        event.currentTarget.closest(".notification").classList.add("hidden");
    });
});
